---
description: 审查 solutions 目录下的 Go 解题代码，执行测试验证、代码质量检查和改进建议
globs: solutions/**/*.go
alwaysApply: false
---

# 解题代码审查规则

当用户请求验证或审查其解题代码时，按以下流程执行。

## 1. 运行测试

- 执行: `go test -v ./solutions/{分桶}/{题目}/`
- 报告通过/失败的用例数量
- 失败时给出输入、期望输出、实际输出的对比分析

## 2. 静态检查

- 执行: `go vet ./solutions/{分桶}/{题目}/`
- 检查编译错误、类型错误、未使用变量等

## 3. 代码质量审查

逐项检查并反馈：

- **正确性**: 逻辑是否覆盖所有边界（空输入、极值、重复元素等）
- **Go 惯用写法**: 是否符合 idiomatic Go（命名、错误处理、切片操作等）
- **命名**: 变量名是否简洁且有意义
- **注释**: 关键逻辑是否有注释说明
- **性能**: 是否有不必要的内存分配或重复计算

## 4. 复杂度分析

- 标注时间复杂度和空间复杂度
- 说明推导过程
- 与最优解复杂度对比

## 5. 改进建议

按优先级排列：

1. 🔴 **正确性问题** — 逻辑错误、边界遗漏
2. 🟡 **性能优化** — 可改进的复杂度、减少分配
3. 🔵 **代码风格** — Go 惯用写法、可读性
4. 🟢 **扩展思考** — 其他解法思路、相关题目推荐

## 6. 输出格式

~~~
✅ 测试结果: X/Y 通过
📊 复杂度: 时间 O(?) / 空间 O(?)

🔍 代码审查:
  - [结论]

💡 改进建议:
  1. ...
  2. ...
~~~

## 7. 总结归档

审查完成后，主动询问用户是否将学习要点总结到题目 README.md 中：
- 补充「学习笔记」章节（易错点、心得）
- 添加「复习记录」条目（日期、结果、耗时）
- 更新分桶索引和知识点索引中该题的状态为 ✅
